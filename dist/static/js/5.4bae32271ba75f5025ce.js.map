{"version":3,"sources":["webpack:///src/pages/my.vue","webpack:///./src/pages/my.vue?4844","webpack:///./src/pages/my.vue"],"names":["my","v","length","rightPart","right","pager","getOrderList","_this","this","curPage","rwUserId","then","res","pageNo","cp","outTradeNo","name","totalFee","id","pages_my","render","_vm","_h","$createElement","_c","_self","staticClass","_v","mobile","_s","_f","attrs","width","cellspacing","_m","_l","item","marathonEvent","createDate","status","pay","on","click","$event","startPay","_e","orders","pageData","pageChange","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"mIAoDAA,QAEA,gDAGAC,kDACAC,wCAGA,aACA,aACA,YACA,aACA,QACA,wGAOA,gBAEA,QAGA,iBAGAC,UAAAC,EAAA,EAEAC,QAAA,2BAEAC,iDAGA,IAAAC,EAAAC,qEAMAC,iBACA,0BACAC,WAHAC,KAAA,SAAAC,qDAMAC,iBACAC,wCAEA,SAEA,WAdA,8CAkBAb,OACAK,0EAIAS,iCACAC,0BACAA,gBACAC,WAJAN,KAAA,SAAAC,sBAMAA,oDAKA,oBAIAM,QC5HAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAb,KAAac,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,OAAiBF,EAAA,MAAAH,EAAAM,GAAA,UAAAH,EAAA,OAAsCE,YAAA,aAAuBF,EAAA,MAAAH,EAAAM,GAAA,UAAAN,EAAAO,OAA2EJ,EAAA,OAAgCE,YAAA,aAAuBL,EAAAM,GAAA,UAAAN,EAAAQ,GAAAR,EAAAS,GAAA,SAAAT,GAAAO,YAAlIJ,EAAA,OAAoDE,YAAA,aAAuBL,EAAAM,GAAA,eAAuDH,EAAA,OAAuEE,YAAA,aAAuBF,EAAA,MAAAH,EAAAM,GAAA,cAAAH,EAAA,SAA4CO,OAAOC,MAAA,MAAAC,YAAA,OAAiCZ,EAAAa,GAAA,GAAAb,EAAAc,GAAAd,EAAA,gBAAAe,GAA+C,OAAAZ,EAAA,MAAAA,EAAA,MAAAH,EAAAM,GAAAN,EAAAQ,GAAAO,EAAAC,cAAArB,SAAAQ,EAAA,MAAAH,EAAAM,GAAAN,EAAAQ,GAAAO,EAAAE,eAAAd,EAAA,MAAAH,EAAAM,GAAAN,EAAAQ,GAAAR,EAAAS,GAAA,SAAAT,CAAAe,EAAAC,cAAAE,YAAAf,EAAA,MAAAH,EAAAM,GAAAN,EAAAQ,GAAAO,EAAAnB,SAAA,QAAAO,EAAA,MAAAY,EAAAI,KAAA,GAAAJ,EAAAI,IAAAhB,EAAA,QAAAH,EAAAM,GAAA,SAAAH,EAAA,QAAAH,EAAAM,GAAA,YAAAS,EAAAC,cAAAE,QAAA,GAAAH,EAAAI,IAAAhB,EAAA,UAAsXiB,IAAIC,MAAA,SAAAC,GAAyBtB,EAAAuB,SAAAR,OAAqBf,EAAAM,GAAA,QAAAN,EAAAwB,YAA8B,MAAAxB,EAAAyB,OAAA5C,OAAAsB,EAAA,OAAAH,EAAAM,GAAA,QAAAN,EAAAwB,KAAAxB,EAAAyB,OAAA5C,OAAA,EAAAsB,EAAA,SAAiGO,OAAOgB,SAAA1B,EAAA0B,UAAwBN,IAAKO,WAAA3B,EAAA2B,cAA6B3B,EAAAwB,MAAA,KAAArB,EAAA,OAA2BE,YAAA,OAAiBF,EAAA,qBAEhsCyB,iBADjB,WAAoC,IAAa3B,EAAbd,KAAae,eAA0BC,EAAvChB,KAAuCiB,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAAA,EAAA,MAA/DhB,KAA+DmB,GAAA,UAAAH,EAAA,MAA/DhB,KAA+DmB,GAAA,UAAAH,EAAA,MAA/DhB,KAA+DmB,GAAA,UAAAH,EAAA,MAA/DhB,KAA+DmB,GAAA,UAAAH,EAAA,MAA/DhB,KAA+DmB,GAAA,eCEnG,IAcAuB,EAdAC,EAAA,OAcAC,CACApD,EACAmB,GATA,EAVA,SAAAkC,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/5.4bae32271ba75f5025ce.js","sourcesContent":["<template lang=\"pug\">\r\n    .ctn1200\r\n        .fl\r\n            h2 个人中心\r\n            .user-msg \r\n                h3 账号信息\r\n                .msg-show(v-if=\"!mobile\") 还未登录！！！\r\n                .msg-show(v-else) ⭕ 登录手机：{{ mobile | mobile}}\r\n            .sign-msg\r\n                h3 报名订单列表信息\r\n                \r\n                //- .sign-list(v-for=\"(item,index) in orders\") \r\n                    //- .sign-activity {{index+1}}、{{ item.marathonEvent.name}}\r\n                    //- .sign-activity(@click=\"goDetail(item.id)\") 活动名称：{{ item.marathonEvent.name}}\r\n                    .sign-activity 活动名称：{{ item.marathonEvent.name}}\r\n                    .msg-show ⭕ 报名时间：{{ item.createDate }}\r\n                    .msg-show ⭕ 支付情况：{{item.pay && item.pay==1?'已支付':'未支付'}}\r\n                    .msg-show ⭕ 活动状态：{{ item.marathonEvent.status | status }}\r\n                    .msg-show ⭕ 参赛费用：{{ item.totalFee/100}}元\r\n                    button(@click=\"startPay(item)\" v-if=\"item.marathonEvent.status==1 && item.pay==0\") 支付\r\n\r\n                table(width=\"800\" cellspacing=\"0\")\r\n                    tr\r\n                        th 活动名称\r\n                        th 报名时间\r\n                        th 活动状态\r\n                        th 参赛费用\r\n                        th 支付状态\r\n                        //- 序号 赛事名称 组别 姓名 身份证号 手机号 衣服尺码 血型 是否摆渡车 费用 支付状态 支付时间\r\n                    tr(v-for=\"item in orders\")\r\n                        td {{item.marathonEvent.name}}\r\n                        td {{item.createDate}}\r\n                        td {{item.marathonEvent.status | status}}\r\n                        td {{item.totalFee/100}}\r\n                        td \r\n                            span(v-if=\"item.pay && item.pay==1\") 已支付\r\n                            span(v-else=\"\") 未支付\r\n                            button(@click=\"startPay(item)\" v-if=\"item.marathonEvent.status==1 && item.pay==0\") 支付\r\n\r\n                div(v-if=\"orders.length==0\") 暂无\r\n\r\n                pager(:pageData=\"pageData\" @pageChange=\"pageChange\" v-if=\"orders.length>0\")\r\n            \r\n        .fr\r\n            right-part\r\n\r\n</template>\r\n<script>\r\nimport rightPart from './components/layout/right'\r\n\r\nimport pager from './components/pager'\r\n\r\n\r\nexport default {\r\n    name: 'myMsg',\r\n    filters: {\r\n        mobile(v){\r\n            var v = '' + v;\r\n            return v.substring(0,3) + '****' + v.substring(v.length-3, v.length)\r\n        },\r\n        status(v){\r\n            if(v==0) return '报名未开始'\r\n            if(v==1) return '报名进行中'\r\n            if(v==2) return '即将开赛'\r\n            if(v==3) return '赛事进行中'\r\n            if(v==4) return '赛事已结束'\r\n            return '状态未知';\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            mobile: localStorage.rwMobile ? localStorage.rwMobile : false,\r\n            orders: [],\r\n            curPage: 1,\r\n            pageData: {\r\n                cur: 1,\r\n                total: 0\r\n            }\r\n        }\r\n    },\r\n    components: {\r\n        rightPart,\r\n        pager\r\n    },\r\n    mounted(){\r\n        this.getOrderList()\r\n    },\r\n    methods: {\r\n        getOrderList(){\r\n            if(!localStorage.rwUserId){\r\n                alert('请先登陆~');\r\n                return;\r\n            }\r\n            this.ajax('/order/matchList', {\r\n                pageNo: this.curPage,\r\n                pageSize: 10,\r\n                accountId: localStorage.rwUserId\r\n            }).then( res =>{\r\n                this.orders = res.objectData.list || [];\r\n                var cp = res.objectData.pageNo;\r\n                this.curPage = cp\r\n                this.pageData = {\r\n                    total: res.objectData.count || 0,\r\n                    cur: cp || 1\r\n                }\r\n            })\r\n        },\r\n        pageChange(v){  // 页码变化事件\r\n            this.curPage = v;\r\n            this.getOrderList();\r\n        },\r\n        startPay(item){\r\n            this.ajax('/order/pay', {\r\n                outTradeNo: item.outTradeNo,\r\n                title: item.marathonEvent.name,\r\n                body: item.marathonEvent.name,\r\n                totalFee: item.totalFee\r\n            }).then( res =>{\r\n                $('body').append($(res));\r\n            })\r\n        },\r\n        goDetail(id){\r\n            this.$router.push({\r\n                path: '/detail',\r\n                query: {\r\n                    id: id\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n<style lang=\"sass\" scoped>\r\n    \r\n    h3\r\n        font-weight: 500;\r\n        margin: 15px 0;\r\n    .msg-show\r\n        font-size: 14px;\r\n    .sign-msg\r\n        margin-top: 20px;\r\n        div\r\n            margin-bottom: 10px;\r\n        .sign-list\r\n            margin: 25px 0;\r\n            padding: 20px;\r\n            border: 1px solid #ccc;\r\n            width: 800px;\r\n            .sign-activity\r\n                cursor: pointer;\r\n\r\n    table\r\n        margin: 0;\r\n        padding: 0;\r\n        border-top: 1px solid #ccc;\r\n        border-left: 1px solid #ccc;\r\n\r\n        td,th\r\n            padding: 15px;\r\n            text-align: center;\r\n            border-bottom: 1px solid #ccc;\r\n            border-right: 1px solid #ccc;\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/my.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ctn1200\"},[_c('div',{staticClass:\"fl\"},[_c('h2',[_vm._v(\"个人中心\")]),_c('div',{staticClass:\"user-msg\"},[_c('h3',[_vm._v(\"账号信息\")]),(!_vm.mobile)?_c('div',{staticClass:\"msg-show\"},[_vm._v(\"还未登录！！！\")]):_c('div',{staticClass:\"msg-show\"},[_vm._v(\"⭕ 登录手机：\"+_vm._s(_vm._f(\"mobile\")(_vm.mobile)))])]),_c('div',{staticClass:\"sign-msg\"},[_c('h3',[_vm._v(\"报名订单列表信息\")]),_c('table',{attrs:{\"width\":\"800\",\"cellspacing\":\"0\"}},[_vm._m(0),_vm._l((_vm.orders),function(item){return _c('tr',[_c('td',[_vm._v(_vm._s(item.marathonEvent.name))]),_c('td',[_vm._v(_vm._s(item.createDate))]),_c('td',[_vm._v(_vm._s(_vm._f(\"status\")(item.marathonEvent.status)))]),_c('td',[_vm._v(_vm._s(item.totalFee/100))]),_c('td',[(item.pay && item.pay==1)?_c('span',[_vm._v(\"已支付\")]):_c('span',[_vm._v(\"未支付\")]),(item.marathonEvent.status==1 && item.pay==0)?_c('button',{on:{\"click\":function($event){_vm.startPay(item)}}},[_vm._v(\"支付\")]):_vm._e()])])})],2),(_vm.orders.length==0)?_c('div',[_vm._v(\"暂无\")]):_vm._e(),(_vm.orders.length>0)?_c('pager',{attrs:{\"pageData\":_vm.pageData},on:{\"pageChange\":_vm.pageChange}}):_vm._e()],1)]),_c('div',{staticClass:\"fr\"},[_c('right-part')],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',[_vm._v(\"活动名称\")]),_c('th',[_vm._v(\"报名时间\")]),_c('th',[_vm._v(\"活动状态\")]),_c('th',[_vm._v(\"参赛费用\")]),_c('th',[_vm._v(\"支付状态\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-39299887\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/my.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-39299887\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./my.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./my.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./my.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-39299887\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./my.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-39299887\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/my.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}